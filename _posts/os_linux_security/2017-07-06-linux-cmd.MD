---
layout: post
title: CMD
category: linux
comments: false
---

## 1. telnet

telnet命令通常用来远程登录。telnet程序是基于TELNET协议的远程登录客户端程序。Telnet协议是TCP/IP协议族中的一员，是Internet远程登陆服务的标准协议和主要方式。

要开始一个 telnet会话，必须输入用户名和密码来登录服务器。Telnet是常用的远程控制Web服务器的方法。

但是，telnet因为采用明文传送报文，安全性不好，很多Linux服务器都不开放telnet服务，而改用更安全的ssh方式了。

telnet命令还可做别的用途，比如确定远程服务的状态，比如确定远程服务器的某个端口是否能访问。

[>>>reference](http://www.cnblogs.com/peida/archive/2013/03/13/2956992.html)

## 2. sed
sed是一种流编辑器，它是文本处理中非常中的工具，能够完美的配合正则表达式使用，功能不同凡响。

命令格式：
    
    sed [options] 'command' file(s)
    sed [options] -f scriptfile file(s)

命令:

    a\ 在当前行下面插入文本。
    i\ 在当前行上面插入文本。 
    c\ 把选定的行改为新的文本。 
    d 删除，删除选择的行。
    D 删除模板块的第一行。 
    s 替换指定字符 
    h 拷贝模板块的内容到内存中的缓冲区。 
    H 追加模板块的内容到内存中的缓冲区。 
    g 获得内存缓冲区的内容，并替代当前模板块中的文本。 
    G 获得内存缓冲区的内容，并追加到当前模板块文本的后面。 
    l 列表不能打印字符的清单。 
    n 读取下一个输入行，用下一个命令处理新的行而不是用第一个命令。 
    N 追加下一个输入行到模板块后面并在二者间嵌入一个新行，改变当前行号码。 
    p 打印模板块的行。 
    P(大写) 打印模板块的第一行。 
    q 退出Sed。 
    b lable 分支到脚本中带有标记的地方，如果分支不存在则分支到脚本的末尾。 
    r file 从file中读行。 
    t label if分支，从最后一行开始，条件一旦满足或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾。 
    T label 错误分支，从最后一行开始，一旦发生错误或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾。 
    w file 写并追加模板块到file末尾。 
    W file 写并追加模板块的第一行到file末尾。 
    ! 表示后面的命令对所有没有被选定的行发生作用。 
    = 打印当前行号码。 
    # 把注释扩展到下一个换行符以前

sed 替换标记

    g 表示行内全面替换。
    p 表示打印行。 
    w 表示把行写入一个文件。 
    x 表示互换模板块中的文本和缓冲区中的文本。 
    y 表示把一个字符翻译为另外的字符（但是不用于正则表达式） 
    \1 子串匹配标记 
    & 已匹配字符串标记

sed元字符集 
    
    ^ 匹配行开始，如：/^sed/匹配所有以sed开头的行。 
    $ 匹配行结束，如：/sed$/匹配所有以sed结尾的行。 
    . 匹配一个非换行符的任意字符，如：/s.d/匹配s后接一个任意字符，最后是d。 
    * 匹配0个或多个字符，如：/*sed/匹配所有模板是一个或多个空格后紧跟sed的行。 
    [] 匹配一个指定范围内的字符，如/[ss]ed/匹配sed和Sed。 
    [^] 匹配一个不在指定范围内的字符，如：/[^A-RT-Z]ed/匹配不包含A-R和T-Z的一个字母开头，紧跟ed的行。 
    \(..\) 匹配子串，保存匹配的字符，如s/\(love\)able/\1rs，loveable被替换成lovers。 
    & 保存搜索字符用来替换其他字符，如s/love/**&**/，love这成**love**。 
    \< 匹配单词的开始，如:/\<love/ 匹配包含以love开头的单词的行，
    \> 匹配单词的结束，如:/love\>/匹配包含以love结尾的单词的行。 
    x\{m\} 重复字符x，m次，如：/0\{5\}/匹配包含5个0的行。 
    x\{m,\} 重复字符x，至少m次，如：/0\{5,\}/匹配至少有5个0的行。 
    x\{m,n\} 重复字符x，至少m次，不多于n次，如：/0\{5,10\}/匹配5~10个0的行。

一些例子：  
    删除空白行：
    
    sed '/^$/d' file

删除文件的第2行： 

    sed '2d' file

所有以192.168.0.1开头的行都会被替换成它自已加localhost：

    sed 's/^192.168.0.1/&localhost/' file
    192.168.0.1localhost

删除掉注释之后的资料：

    sed 's/#.*$//g' 

在最后一行处增加内容：（$表示最后一行，a是新增，-i选项表示直接修改档案内容）

    sed -i '$a # This is a test' regular_express.txt 





[>>>reference](http://man.linuxde.net/sed)